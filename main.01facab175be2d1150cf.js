(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("x3Br"),n("JBxO"),n("FdtR");var i={query:"",pageNumber:1,buttomPosition:0,baseUrl:"https://pixabay.com/api/",key:"16056306-b774bb8eb3846f9eca7b7b057",fetchImages:function(){var e="?image_type=photo&orientation=horizontal&q="+this.query+"&page="+this.pageNumber+"&per_page=12&key="+this.key;return fetch(this.baseUrl+e).then((function(e){return e.json()}))}},o={searchForm:document.querySelector("#searchForm"),articleList:document.querySelector(".gallery"),loadMore:document.querySelector('button[date-action="load-more"]')};function s(e){i.buttomPosition=o.articleList.getBoundingClientRect().bottom,i.pageNumber+=1,i.fetchImages().then((function(e){var t=a(e.hits);o.articleList.insertAdjacentHTML("beforeend",t)}))}function a(e){return e.reduce((function(e,t){return e+'<li class="photo-card">\n<img src='+t.webformatURL+' alt="" data-bigfoto='+t.largeImageURL+' />\n\n<div class="stats">\n  <p class="stats-item">\n    <i class="material-icons">thumb_up</i>\n    '+t.likes+'\n  </p>\n  <p class="stats-item">\n    <i class="material-icons">visibility</i>\n    '+t.views+'\n  </p>\n  <p class="stats-item">\n    <i class="material-icons">comment</i>\n    '+t.comments+'\n  </p>\n  <p class="stats-item">\n    <i class="material-icons">cloud_download</i>\n   '+t.downloads+"\n  </p>\n</div>\n</li>"}),"")}o.searchForm.addEventListener("submit",(function(e){e.preventDefault(),i.pageNumber=1,i.query=e.currentTarget.elements.query.value,i.fetchImages().then((function(e){var t=a(e.hits);o.articleList.innerHTML=t}))})),o.loadMore.addEventListener("click",s),o.loadMore.addEventListener("click",(function(){window.scrollTo({top:i.buttomPosition,left:0,behavior:"smooth"})})),window.addEventListener("scroll",(function(){if(console.log("222"),!(document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+10))return;console.log("111"),s()}));n("L1EO")}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.01facab175be2d1150cf.js.map